{% extends "base.html" %}

{% block title %}{{ title }} - 分流系统{% endblock %}

{% block content %}
<div class="d-flex justify-content-between align-items-center mb-4">
    <h2 class="mb-0"><i class="fas fa-clipboard-list me-2"></i>{{ title }}</h2>
    <a href="{% url 'workorder_list' %}" class="btn btn-secondary">
        <i class="fas fa-arrow-left me-1"></i> 返回列表
    </a>
</div>

<div class="card">
    <div class="card-body">
        <form method="post">
            {% csrf_token %}
            <div class="row">
                <div class="col-md-6 mb-3">
                    <label for="{{ form.name.id_for_label }}" class="form-label">工单名称 <span
                            class="text-danger">*</span></label>
                    {{ form.name }}
                    {% if form.name.errors %}
                    <div class="text-danger">
                        {% for error in form.name.errors %}
                        {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>

                <div class="col-md-6 mb-3">
                    <label for="{{ form.type.id_for_label }}" class="form-label">工单类型 <span
                            class="text-danger">*</span></label>
                    {{ form.type }}
                    {% if form.type.errors %}
                    <div class="text-danger">
                        {% for error in form.type.errors %}
                        {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>

                <div class="col-12 mb-3">
                    <label for="{{ form.orderUrl.id_for_label }}" class="form-label">工单URL <span
                            class="text-danger">*</span></label>
                    {{ form.orderUrl }}
                    {% if form.orderUrl.errors %}
                    <div class="text-danger">
                        {% for error in form.orderUrl.errors %}
                        {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>

                <div class="col-md-6 mb-3">
                    <label for="{{ form.startTime.id_for_label }}" class="form-label">开始时间 <span
                            class="text-danger">*</span></label>
                    {{ form.startTime }}
                    {% if form.startTime.errors %}
                    <div class="text-danger">
                        {% for error in form.startTime.errors %}
                        {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>

                <div class="col-md-6 mb-3">
                    <label for="{{ form.endTime.id_for_label }}" class="form-label">结束时间 <span
                            class="text-danger">*</span></label>
                    {{ form.endTime }}
                    {% if form.endTime.errors %}
                    <div class="text-danger">
                        {% for error in form.endTime.errors %}
                        {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>

                <div class="col-md-4 mb-3">
                    <label for="{{ form.numType.id_for_label }}" class="form-label">号码类型 <span
                            class="text-danger">*</span></label>
                    {{ form.numType }}
                    {% if form.numType.errors %}
                    <div class="text-danger">
                        {% for error in form.numType.errors %}
                        {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>

                <div class="col-md-4 mb-3">
                    <label for="{{ form.allCount.id_for_label }}" class="form-label">工单总量 <span
                            class="text-danger">*</span></label>
                    {{ form.allCount }}
                    {% if form.allCount.errors %}
                    <div class="text-danger">
                        {% for error in form.allCount.errors %}
                        {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>

                <div class="col-md-4 mb-3">
                    <label for="{{ form.ratio.id_for_label }}" class="form-label">下号比率 <span
                            class="text-danger">*</span></label>
                    {{ form.ratio }}
                    {% if form.ratio.errors %}
                    <div class="text-danger">
                        {% for error in form.ratio.errors %}
                        {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>

                <div class="col-md-6 mb-3">
                    <label for="{{ form.orderAcct.id_for_label }}" class="form-label">工单账号 <span
                            class="text-danger">*</span></label>
                    {{ form.orderAcct }}
                    {% if form.orderAcct.errors %}
                    <div class="text-danger">
                        {% for error in form.orderAcct.errors %}
                        {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>

                <div class="col-md-6 mb-3">
                    <label for="{{ form.orderPsw.id_for_label }}" class="form-label">工单密码 <span
                            class="text-danger">*</span></label>
                    {{ form.orderPsw }}
                    {% if form.orderPsw.errors %}
                    <div class="text-danger">
                        {% for error in form.orderPsw.errors %}
                        {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>

                <div class="col-md-6 mb-3">
                    <label for="{{ form.numSize.id_for_label }}" class="form-label">号码数量 <span
                            class="text-danger">*</span></label>
                    {{ form.numSize }}
                    {% if form.numSize.errors %}
                    <div class="text-danger">
                        {% for error in form.numSize.errors %}
                        {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>

                <div class="col-md-6 mb-3">
                    <label for="{{ form.status.id_for_label }}" class="form-label">状态 <span
                            class="text-danger">*</span></label>
                    {{ form.status }}
                    {% if form.status.errors %}
                    <div class="text-danger">
                        {% for error in form.status.errors %}
                        {{ error }}
                        {% endfor %}
                    </div>
                    {% endif %}
                </div>
            </div>

            <div class="d-grid gap-2 d-md-flex justify-content-md-end">
                <a href="{% url 'workorder_list' %}" class="btn btn-light me-md-2">取消</a>
                <button type="submit" class="btn btn-primary">保存</button>
            </div>
        </form>
    </div>
</div>
{% endblock %}